!function(){"use strict";var a=angular.module("jh.calendar",[]);a.directive("calendar",["$locale",function(a){return{restrict:"E",templateUrl:"calendar.tmpl",scope:{"for":"=",options:"=",onClick:"&",activeDay:"&",activeWeek:"&"},link:function(b){b.$watch("for",function(){var c=b["for"],d=c instanceof Date&&new Date(c.getTime())||new Date;d.setDate(1);var e=(d.getMonth()+1)%12;b.days={},angular.isDefined(b.options)?(b.month=b.options.shortmonth?a.DATETIME_FORMATS.SHORTMONTH[d.getMonth()]:a.DATETIME_FORMATS.MONTH[d.getMonth()],b.options.supershortday?angular.forEach(a.DATETIME_FORMATS.SHORTDAY,function(a,c){b.days[c]=a.substring(0,2)}):b.days=b.options.shortday?a.DATETIME_FORMATS.SHORTDAY:a.DATETIME_FORMATS.DAY):(b.month=a.DATETIME_FORMATS.MONTH[d.getMonth()],b.days=a.DATETIME_FORMATS.DAY),b.year=d.getFullYear(),b.weeks=[{days:[]}];var f=b.weeks[0];do 0===d.getDay()&&1!==d.getDate()&&(f={days:[]},b.weeks.push(f)),f.days[d.getDay()]=d.getDate(),d.setDate(d.getDate()+1);while(d.getMonth()!==e);for(;f.days.length<7;)f.days.push(void 0)}),b.clickDay=function(a){return void 0!==a?b.onClick({day:a}):void 0},b.isDayActive=function(a){return b.activeDay({day:a})},b.isWeekActive=function(a){return b.activeWeek({week:a})}}}}]);var b=['<div class="calendar">','<div class="header">{{month}} {{year}}</div>','<div class="week-header">','<span ng-repeat="day in days track by $index" class="day-name" ng-class="{first: $first, last: $last}">{{day}}</span>',"</div>",'<div class="calendar-body">','<div ng-repeat="week in weeks track by $index" class="week" ng-class="{first: $first, last: $last, odd: $odd, even: $even, active: isWeekActive($index+1)}">','<span ng-repeat="day in week.days track by $index" class="day" ng-class="{first: $first, last: $last, active: isDayActive(day)}" ng-click="clickDay(day)">{{day}}&nbsp;</span>',"</div>","</div>","</div>"].join("\n");a.run(["$templateCache",function(a){a.put("calendar.tmpl",b)}])}();